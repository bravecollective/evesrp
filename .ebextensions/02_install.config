commands:
  10_install_npm:
    command: |
      # NOTE: This requires NVM to be installed as ec2-user
      . /home/ec2-user/.nvm/nvm.sh
      nvm install node
  20_config_npm:
    command: "sudo npm config set strict-ssl=false"

container_commands:
  10_config_npm:
    command: "npm config set strict-ssl=false"
  20_npm_install:
    command: "rm -f node_modules/evesrp"
  30_make_javascript:
    command: "make javascript"
  40_make_css:
    command: "make static"
  50_create_translations:
    command: "make translations"
  60_link_static:
    command: "ln -s src/evesrp/static"
  70_install_pymysql:
    command: "pip install PyMySQL"
  80_setup_develop:
    command: "./setup.py develop"
